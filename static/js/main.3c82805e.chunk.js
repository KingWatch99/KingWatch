(this.webpackJsonpkingwatch=this.webpackJsonpkingwatch||[]).push([[0],{34:function(e,t,a){e.exports=a(67)},47:function(e,t,a){},48:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(27),r=a.n(l),i=a(5),o=a(1),s=function(){return c.a.createElement("header",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"inner-content"},c.a.createElement("div",{className:"brand"},c.a.createElement(i.b,{to:"/"},"KingWatch")),c.a.createElement("ul",{className:"nav-links"},c.a.createElement("li",null,c.a.createElement(i.b,{to:"/watchList"},"New")),c.a.createElement("li",null,c.a.createElement(i.b,{to:"/watchList"},"Watch List")),c.a.createElement("li",null,c.a.createElement(i.b,{to:"/watched"},"Watched")),c.a.createElement("li",null,c.a.createElement(i.b,{to:"/add",className:"btn btn-main"},"+ Add"))))))},m=a(10),u=a(17),d=a(9),h=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(d.a)(Object(d.a)({},e),{},{watchlist:[t.payload].concat(Object(u.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(d.a)(Object(d.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case"ADD_MOVIE_TO_WATCHED":return Object(d.a)(Object(d.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(u.a)(e.watched))});case"MOVE_TO_WATCHLIST":return Object(d.a)(Object(d.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),watchlist:[t.payload].concat(Object(u.a)(e.watchlist))});case"REMOVE_FROM_WATCHED":return Object(d.a)(Object(d.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});default:return e}},E={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},v=Object(n.createContext)(E),f=function(e){var t=Object(n.useReducer)(h,E),a=Object(m.a)(t,2),l=a[0],r=a[1];Object(n.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(l.watchlist)),localStorage.setItem("watched",JSON.stringify(l.watched))}),[l]);return c.a.createElement(v.Provider,{value:{watchlist:l.watchlist,watched:l.watched,addMovieToWatchlist:function(e){r({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatchlist:function(e){r({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},addMovieToWatched:function(e){r({type:"ADD_MOVIE_TO_WATCHED",payload:e})},moveToWatchlist:function(e){r({type:"MOVE_TO_WATCHLIST",payload:e})},removeFromWatched:function(e){r({type:"REMOVE_FROM_WATCHED",payload:e})}}},e.children)},p=function(e){var t=e.type,a=e.movie,l=Object(n.useContext)(v),r=l.removeMovieFromWatchlist,i=l.addMovieToWatched,o=l.moveToWatchlist,s=l.removeFromWatched;return c.a.createElement("div",{className:"inner-card-controls"},"watchlist"===t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"ctrl-btn",onClick:function(){return i(a)}},c.a.createElement("i",{className:"fa-fw far fa-eye"})),c.a.createElement("button",{className:"ctrl-btn",onClick:function(){return r(a.id)}},c.a.createElement("i",{className:"fa-fw fa fa-times"}))),"watched"===t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"ctrl-btn",onClick:function(){return o(a)}},c.a.createElement("i",{className:"fa-fw far fa-eye-slash"})),c.a.createElement("button",{className:"ctrl-btn",onClick:function(){return s(a.id)}},c.a.createElement("i",{className:"fa-fw fa fa-times"}))))},w=function(e){var t=e.movie,a=e.type;return c.a.createElement("div",{className:"movie-card"},c.a.createElement("div",{className:"overlay"}),c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}),c.a.createElement(p,{type:a,movie:t}))},b=function(){var e=Object(n.useContext)(v).watchlist;return c.a.createElement("div",{className:"movie-page"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"header"},c.a.createElement("h1",{className:"heading"},"Watch List"),c.a.createElement("span",{className:"count-pill"},e.length," ",1===e.length?"Movie":"Movies")),e.length>0?c.a.createElement("div",{className:"movie-grid"},e.map((function(e){return c.a.createElement(w,{movie:e,key:e.id,type:"watchlist"})}))):c.a.createElement("h2",{className:"no-movies"},"No movies in your list! Add some!")))},N=function(){var e=Object(n.useContext)(v).watched;return c.a.createElement("div",{className:"movie-page"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"header"},c.a.createElement("h1",{className:"heading"},"Watched Movies"),c.a.createElement("span",{className:"count-pill"},e.length," ",1===e.length?"Movie":"Movies")),e.length>0?c.a.createElement("div",{className:"movie-grid"},e.map((function(e){return c.a.createElement(w,{movie:e,key:e.id,type:"watched"})}))):c.a.createElement("h2",{className:"no-movies"},"No movies in your list! Add some!")))},g=(a(43),function(e){var t=e.movie,a=Object(n.useContext)(v),l=a.addMovieToWatchlist,r=a.addMovieToWatched,o=a.watchlist,s=a.watched,m=o.find((function(e){return e.id===t.id})),u=s.find((function(e){return e.id===t.id})),d=!!m||!!u,h=!!u;return c.a.createElement("div",{className:"result-card"},c.a.createElement("div",{className:"poster-wrapper"},t.img?c.a.createElement("img",{src:t.img,alt:"".concat(t.name," Poster")}):c.a.createElement("div",{className:"filler-poster"})),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"header"},c.a.createElement("h3",{className:"title"},t.name),c.a.createElement("h4",{className:"release-date"})),c.a.createElement("div",{className:"controls"},c.a.createElement("button",{className:"btn",disabled:d,onClick:function(){return l(t)}},"Add to Watchlist"),c.a.createElement("button",{className:"btn",disabled:h,onClick:function(){return r(t)}},"Add to Watched"),c.a.createElement(i.b,{to:"/watch/"+t.id+"/"+t.name},c.a.createElement("button",{className:"btn"},"Play")))))}),O=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)([]),i=Object(m.a)(r,2),o=i[0],s=i[1];return c.a.createElement("div",{className:"add-page"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"add-content"},c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("input",{type:"text",placeholder:"Search for a movie",value:a,onChange:function(e){e.preventDefault(),l(e.target.value),fetch("https://kingwatchsearch.kingwatch.repl.co/".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){s(null!=e||"null"!==e?e:[])}))}})),o.length>0&&c.a.createElement("ul",{className:"results"},o.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(g,{movie:e}))}))))))},y=a(13),j=a.n(y),W=a(16),M=a(29),T=a(30),_=a(33),k=a(32),C=function(e){Object(_.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(M.a)(this,a),(n=t.call(this,e)).state={jsonData:null,loading:!1},n}return Object(T.a)(a,[{key:"componentDidMount",value:function(){var e=Object(W.a)(j.a.mark((function e(){var t=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/trending/all/day?api_key=d84036d2bbee55b9edda524fe3ec0993&page=1").then((function(e){return e.json()})).then((function(e){e.errors?t.setState({jsonData:[]}):t.setState({jsonData:e.results})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",{className:"movie-page"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"header"},c.a.createElement("h1",{className:"heading"},"Watched Movies")),null!=this.state.jsonData?c.a.createElement("div",{className:"movie-grid"},this.state.jsonData.map((function(e){return c.a.createElement(i.b,{to:"/watch/"+e.id+"/"+e.original_title},c.a.createElement(w,{movie:e,key:e.id,type:""}))}))):c.a.createElement("h2",null,"Nav")))}}]),a}(c.a.Component),S=(a(47),a(48),a(31)),A=a.n(S),D=function(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],l=t[1],r=Object(o.f)().movieName;function i(){return(i=Object(W.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://kingwatchmovie.kingwatch.repl.co/"+r).then((function(e){return e.text()})).then((function(e){l(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),c.a.createElement("div",{className:"movie-page"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"header"},c.a.createElement("h1",{className:"heading"},r)),c.a.createElement("p",{className:"heading"},a),c.a.createElement(A.a,{url:a,controls:!0})))};var I=function(){return c.a.createElement(f,null,c.a.createElement(i.a,null,c.a.createElement(s,null),c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:"/"},c.a.createElement(C,null)),c.a.createElement(o.a,{exact:!0,path:"/KingWatch"},c.a.createElement(C,null)),c.a.createElement(o.a,{exact:!0,path:"/watchList"},c.a.createElement(b,null)),c.a.createElement(o.a,{path:"/add"},c.a.createElement(O,null)),c.a.createElement(o.a,{path:"/watched"},c.a.createElement(N,null)),c.a.createElement(o.a,{path:"/watch/:id/:movieName"},c.a.createElement(D,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.3c82805e.chunk.js.map